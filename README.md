# MRI Gradient-Coil Design with Particle Swarm Optimisation

Designing a longitudinal (ğ³-axis) gradient coil for an MRI scanner by
minimising the field-error integral with **Particle Swarm Optimisation (PSO)**
in MATLAB.

<p align="center">
  <img src="results/field_profile.png" width="550"
       alt="Optimised vs. desired field profile" />
</p>

## Project context

This was my special assignment for **EE303 Â· Numerical Analysis** (Fall 2023,
University of Tripoli).  Specification highlights :contentReference[oaicite:0]{index=0}:

* Coil radiusâ€ƒ`a = 0.4 m`  
* Region of interestâ€ƒ`Â±L = Â±0.25 m`  
* Current per loopâ€ƒ`I = 25 A`  
* `N_pairs = 8` loop pairs  
* Desired fieldâ€ƒ`Bá¶»_desired(z) = 10â»Â³ Â· z [T]`

The fitness function is the mean-square deviation between the
optimised field and the ideal linear field inside the ROI :contentReference[oaicite:1]{index=1}.

## Repository structure

| Path | Purpose |
|------|---------|
| **matlab/** | Unmodified source code (four `.m` files). |
| **docs/** | The original assignment brief for reference. |
| **results/** | Figures and numerical results generated by the code. |

## Running the code

```matlab
% MATLAB R2023 or newer
cd matlab
special              % runs PSO and plots field profile
````

After execution a vector `gbest` (optimised coil positions) and the final
fitness value are printed, and the field profile is plotted. Save the figure
into `results/` as `field_profile.png` and commit it.

## Key files

* **special.m** â€“ main PSO driver (500 iterations, 25 particles).
* **integral.m** â€“ Simpsonâ€™s 3/8 numerical integrator.
* **Bz.m** â€“ magnetic-field model for an N-pair Maxwell-like coil .
* **test.m** â€“ exhaustive search script used for validation.

## Why PSO?

PSO handles non-differentiable, multi-modal objectives elegantly and requires
only objective-function evaluations. A concise introduction is available
in Muhammad Saad Uddinâ€™s article *â€œImplementing Particle Swarm Optimisation
from Scratchâ€* (Python in Plain English, 2022) â€“ link:
[https://python.plainenglish.io/implementing-particle-swarm-optimization-from-scratch-191bc93e48d4](https://python.plainenglish.io/implementing-particle-swarm-optimization-from-scratch-191bc93e48d4).

## Results

The optimised coil pair positions reduced the integrated squared error to
â‰ˆ `1 Ã— 10â»â¸` TÂ²Â·m. The plot above shows an almost perfect overlap between the
modelled and desired fields within the Â±0.25 m ROI.

## Licence

Released under the **MIT Licence** â€“ see `LICENSE` for details.
